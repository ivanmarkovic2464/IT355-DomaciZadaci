<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->


<flow xmlns="http://www.springframework.org/schema/webflow"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.springframework.org/schema/webflow
http://www.springframework.org/schema/webflow/spring-webflow-2.4.xsd">
 
 <var name="rezervacija" class="com.it355.model.Rezervacija" />
 <view-state id="displayRezervacijaView" view="jsp/rezervacija.jsp" model="rezervacija">
    <transition on="performRezervisi" to="performRezervisiAction" />
 </view-state>
 
 <action-state id="performRezervisiAction">
 <evaluate expression="rezervisanjeService.rezervisanje(rezervacija)" />
 
 <transition on="true" to="displaySuccess" />
 <transition on="false" to="displayError" />
 </action-state>
 
 <view-state id="displaySuccess" view="jsp/success.jsp" model="rezervacija"/>
 
 <view-state id="displayError" view="jsp/error.jsp">
     <transition on="performRezervisi" to="performRezervisiAction" />
</view-state>
</flow>
